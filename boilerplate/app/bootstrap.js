(function() {
  /* This bootstrap script is documented at http://developer.joshfire.com/ */
  var Joshfire = window.Joshfire || {};
  Joshfire.factory = {
    globalConfig: {"DATAVERSION":"1","IMGPROXYURL":"http://imgschemaio.herokuapp.com/proxy","HOSTPORT":"factory.joshfire.com","DATAHOSTPORT":"api.datajs.com","STATSHOSTPORT":"stats.joshfirefactory.com"},
    config: {"app":{"id":"51d2ed45e3a2930200000017","icon":null,"logo":null,"name":"boilerplate-default-ds","integration":"factory","version":"1.0"},"template":{"name":"sleek","version":"1.3.6","options":{"tabs":["Feed","Twitter"],"color":"gray"},"hooks":["loaded"]}},
    device: {"type":"phone-ios"},
    addons: {}
  };
  Joshfire.factory.config.deploy = {"env":"dev","type":"preview","flags":{"web":true},"id":""};
  Joshfire.factory.config.datasources = {"main":[{"name":"Feed","db":"operator","col":"updatelinks","query":{"filter":{"datasources":{"main":{"name":"Feed","id":"tmp_51d2edd1478f5e0200000007","db":"feed","col":"rss","outputType":"BlogPosting","runatclient":false,"runtime":"hosted","apikey":"8waZD/CUThfW+WrCU7iG1hgzq0nu2n4yyUTbwv+7xTlAj5InrsM1Uw4d9mAGNzwF"}},"action":"addtarget"}},"outputType":"BlogPosting","runatclient":true,"runtime":"browser"},{"name":"Twitter","db":"operator","col":"updatelinks","query":{"filter":{"datasources":{"main":{"name":"Twitter","id":"tmp_51d2edd1e1c7f20200000005","db":"twitter","col":"tweets","outputType":"Article/Status","runatclient":false,"runtime":"hosted","apikey":"8waZD/CUThfW+WrCU7iG1hgzq0nu2n4yyUTbwv+7xTlAj5InrsM1Uw4d9mAGNzwF"}},"action":"addtarget"}},"outputType":"Article/Status","runatclient":true,"runtime":"browser"}]};
  Joshfire.factory.config.addons = [{"name":"splashscreen","options":{"web-mode":"spinner"},"hooks":["loaded"]}];
  window.Joshfire = Joshfire;

})();
(function () { (function(a){a.factory.ready=!1;var b=[];a.factory.onReady=function(c){if(a.factory.ready)return c();b.push(c)},a.factory.onDeviceReady=a.factory.onReady;var c=function(a){if(typeof blackberry!="undefined")document.addEventListener("webworksready",a,!1);else if(typeof cordova!="undefined")document.addEventListener("deviceready",a,!1);else if(window.addEventListener)window.addEventListener("load",a,!1);else if(document.addEventListener)document.addEventListener("load",a,!1);else if(window.attachEvent)window.attachEvent("onload",a);else if(typeof window.onload!="function")window.onload=a;else{var b=window.onload;window.onload=function(){b(),a()}}};c(function(){a.factory.ready=!0;for(var c=0,d=b.length;c<d;c++)try{b.pop()()}catch(e){}var f=function(){var b=0;if(a.factory.config&&a.factory.config.template&&a.factory.config.template.hooks){b=a.factory.config.template.hooks;for(c=0;c<b.length;c++)if(b[c]==="loaded")return!1}return!0}();try{f&&a.factory.getAddOns("loaded").run()}catch(e){}typeof cordova!="undefined"&&cordova.exec(null,null,"SplashScreen","hide",[])},!1)})(Joshfire);
(function(a,b,c){var d="http://"+c.globalConfig.STATSHOSTPORT,e=function(){return},f=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c+"="+encodeURIComponent(a[c]));var f=new Image(1,1);f.src=d+"/pixel.gif?"+b.join("&"),f.onload=function(){e()}},g=function(){return{tz:(new Date).getTimezoneOffset(),url:b.location.toString(),ref:a.referrer,app:c.config.app.id,appv:c.config.app.version,tpl:c.config.template.id,dev:c.device.type,env:(c.config.deploy||{}).env||"preview",dp:(c.config.deploy||{}).id,dpr:(c.config.deploy||{}).type,id:""}};c.stats={},c.stats.event=function(a){var b=g();b.type=a,f(b)},c.stats.event("open"),a.addEventListener&&a.addEventListener("resume",function(){c.stats.event("resume")},!1)})(document,window,Joshfire.factory);
/**
 * almond 0.0.3 Copyright (c) 2011, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

var requirejs,require,define;(function(e){function o(e,t){if(e&&e.charAt(0)==="."&&t){t=t.split("/"),t=t.slice(0,t.length-1),e=t.concat(e.split("/"));var n,r;for(n=0;r=e[n];n++)if(r===".")e.splice(n,1),n-=1;else if(r===".."){if(n===1&&(e[2]===".."||e[0]===".."))break;n>0&&(e.splice(n-1,2),n-=2)}e=e.join("/")}return e}function u(t,n){return function(){return s.apply(e,r.call(arguments,0).concat([t,n]))}}function a(e){return function(t){return o(t,e)}}function f(e){return function(n){t[e]=n}}function l(r){if(n.hasOwnProperty(r)){var s=n[r];delete n[r],i.apply(e,s)}return t[r]}function c(e,t){var n,r,i=e.indexOf("!");return i!==-1?(n=o(e.slice(0,i),t),e=e.slice(i+1),r=l(n),r&&r.normalize?e=r.normalize(e,a(t)):e=o(e,t)):e=o(e,t),{f:n?n+"!"+e:e,n:e,p:r}}var t={},n={},r=[].slice,i,s;if(typeof define=="function")return;i=function(r,i,s,o){var a=[],h,p,d,v,m,g;o||(o=r);if(typeof s=="function"){!i.length&&s.length&&(i=["require","exports","module"]);for(v=0;v<i.length;v++){g=c(i[v],o),d=g.f;if(d==="require")a[v]=u(r);else if(d==="exports")a[v]=t[r]={},h=!0;else if(d==="module")p=a[v]={id:r,uri:"",exports:t[r]};else if(t.hasOwnProperty(d)||n.hasOwnProperty(d))a[v]=l(d);else{if(!g.p)throw r+" missing "+d;g.p.load(g.n,u(o,!0),f(d),{}),a[v]=t[d]}}m=s.apply(t[r],a),r&&(p&&p.exports!==e?t[r]=p.exports:h||(t[r]=m))}else r&&(t[r]=s)},requirejs=s=function(t,n,r,o){return typeof t=="string"?l(c(t,n).f):(t.splice||(n.splice?(t=n,n=arguments[2]):t=[]),o?i(e,t,n,r):setTimeout(function(){i(e,t,n,r)},15),s)},s.config=function(){return s},require||(require=s),define=function(e,t,r){t.splice||(r=t,t=[]),define.unordered?n[e]=[e,t,r]:i(e,t,r)},define.amd={jQuery:!0}})(),define("runtime/hosted/almond",function(){}),define("datajslib",{normalize:function(e,t){return e.match(/^runtime\-browser/)?e:t("runtime-browser/"+e)},load:function(e,t,n,r){t([e],function(e){n(e)})}}),define("runtime-browser/utils/getthumbnail",["require"],function(e){var t=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},n=function(e,n,r){if(!e)return null;var i=function(e){if(!e)return!1;var t=e.width||0,i=e.height||0;return(!t||!n||t>=n)&&(!i||!r||i>=r)},s=function(e,t){if(!t)return!0;if(!e)return!1;var n=e.width||0,r=e.height||0,i=n&&r&&(n<=t.width||!t.width)&&(r<=t.height||!t.height);return i},o=function(e,t){return!s(e,t)},u=[];e["@type"]==="ImageObject"&&u.push(e),e.thumbnail&&(t(e.thumbnail)?u=u.concat(e.thumbnail):u.push(e.thumbnail)),e.image&&(u.push(e.image),e.image.thumbnail&&(t(e.image.thumbnail)?u=u.concat(e.image.thumbnail):u.push(e.image.thumbnail)));if(u.length===0)return null;var a=0,f=null,l=null;for(a=0;a<u.length;a++)f=u[a],i(f)&&s(f,l)&&(l=f);if(l)return l;l=u[0];for(a=0;a<u.length;a++)f=u[a],o(f,l)&&(l=f);return l};return n}),define("runtime-browser/utils/getthumbnailurl",["datajslib!utils/getthumbnail"],function(e){var t=function(t,n,r){var i=e(t,n,r)||{};return i.contentURL||i.contentUrl||""};return t}),define("runtime-browser/runtime",{name:"browser"}),define("runtime-browser/errors/error",[],function(){var e=function(e,t){this.name="error",this.message=e,this.err=t,Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,arguments.callee)};return e.prototype=new Error,e}),define("runtime-browser/errors/internalerror",["./error"],function(e){var t=function(t,n){e.call(this,t,n),this.name="internal error"};return t.prototype=new e,t}),define("runtime-browser/errors/notfounderror",["./error"],function(e){var t=function(t,n){e.call(this,t,n),this.name="not found"};return t.prototype=new e,t}),define("runtime-browser/collection",["require","require","datajslib!runtime","datajslib!errors/internalerror","datajslib!errors/notfounderror"],function(e,t,n,r,i){var s=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},o={getCollection:function(e,t){return e?new u(e,t):{desc:{},name:"",find:function(e,t){return t(null,{entries:[]})},onLoaded:function(e){e()},getDesc:function(e){e(null,{})},getOutputType:function(){return"Thing"}}}},u=function(e,o){var u=e.query,a=this,f=[],l=!1,c=null,h="datajslib!collection.",p=null,d=function(e){var t=s({},u);return t=s(t,e),t.filter||(t.filter={}),c.setDefaultValues&&c.setDefaultValues(t.filter),t};a.onLoaded=function(e){l?e():f.push(e)},a.find=function(t,s){a.onLoaded(function(){if(p)return s(p);if(!c)return s(new i("Collection does not exist.",e));var o=d(t),u=10800;n.mongodb&&typeof n.mongodb.cacheMaxAge!="undefined"&&(u=n.mongodb.cacheMaxAge),c.desc&&typeof c.desc.maxAge!="undefined"&&(u=c.desc.maxAge);var f=u;c.getMaxAge?f=c.getMaxAge(o):t.nocache?f=0:t.maxAge&&t.maxAge>f&&f>0&&(f=t.maxAge);var l=null;c.cache&&f>0?(l={db:e.db,col:e.col,query:JSON.parse(JSON.stringify(o))},l.query.nocache&&(l.query.nocache=!1),c.cache.get(l,f,function(e,t){if(e)return s(new r("No way to query the cache",e));if(t)return s(null,t);a._find(o,function(e,t){return e?s(e):(c.cache.set(l,t,f),s(null,t))})})):a._find(o,function(e,t){return e?s(e):s(null,t)})})},a._find=function(t,n){if(c.find)c.find(t,function(r,i){return i&&!i.name&&e.name&&(i.name=e.name),i&&!i.maxAge&&(c.getMaxAge?i.maxAge=c.getMaxAge(t):c.desc&&c.desc.maxAge&&(i.maxAge=c.desc.maxAge)),n(r,i)});else{if(!c.fetch||!c.process)return n(new r('Invalid collection (no "fetch", "process", and/or "find")',e));c.fetch(t,function(r,i){if(r)return n(r,null);c.process(i,t,function(r,i){return i&&!i.name&&e.name&&(i.name=e.name),i&&!i.maxAge&&(c.getMaxAge?i.maxAge=c.getMaxAge(t):c.desc&&c.desc.maxAge&&(i.maxAge=c.desc.maxAge)),n(r,i)})})}},a.process=function(e,t,n){a.onLoaded(function(){if(p)return n(p);if(!c)return n(new i("Collection does not exist."));c.process?c.process(e,d(t),n):n(new r('Collection does not have a "process" method.'))})},a.fetch=function(e,t){a.onLoaded(function(){if(p)return t(p);if(!c)return t(new i("Collection does not exist."));c.fetch?c.fetch(d(e),t):t(null,null)})},a.updateInputOptions=function(e,t){a.onLoaded(function(){if(p)return t(p);if(!c)return t(new i("Collection does not exist."));var n={};for(var r in e)r!=="filter"&&r!=="graph"&&e.hasOwnProperty(r)&&(n[r]=e[r]);if(!c.updateInputOptions)return t(null,n);c.updateInputOptions(n,t)})},a.canBeFetched=function(){return c&&!p&&c.fetch},a.canBeProcessed=function(){return c&&!p&&c.process},a.getDesc=function(e){a.onLoaded(function(){return p?e(p):c?(c.setDefaultValues&&c.setDefaultValues(u.filter),c.getDesc?e(null,c.getDesc(u)):e(null,c.desc)):e(new i("Collection does not exist."))})},a.getOutputType=function(){return e.outputType?e.outputType:"Thing"},u=u||{},u.filter||(u.filter={}),!o&&e.db==="operator"?n.name!=="hosted"&&!e.runatclient&&(!e.runtime||e.runtime==="hosted")?h+="proxy":h+="graph":e.runatclient||e.runtime!=="hosted"?h+="client":h+="proxy",t([h],function(t){t.getCollection(e,function(e,t){p=e,c=t,a.cache&&(c.cache=a.cache),l=!0;for(var n=0;n<f.length;n++)f[n]();f=[]})})};return o}),define("runtime-browser/collection.graph",["require","datajslib!collection","datajslib!runtime"],function(e,t,n){var r={},i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=Object.keys||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)i.call(e,n)&&(t[t.length]=n);return t},u=Array.isArray||function(e){return s.call(e)==="[object Array]"},a=function(e,t,n){if(e==null)return;if(Array.prototype.forEach&&e.forEach===Array.prototype.forEach)e.forEach(t,n);else if(e.length===+e.length){for(var s=0,o=e.length;s<o;s++)if(s in e&&t.call(n,e[s],s,e)===r)return}else for(var u in e)if(i.call(e,u)&&t.call(n,e[u],u,e)===r)return},f=function(e){return e===Object(e)},l=function(){var e=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n+=1)t(e[n],n,e)},t=function(t,n){if(t.map)return t.map(n);var r=[];return e(t,function(e,t,i){r.push(n(e,t,i))}),r},n=function(t,n,r){if(!t.length)return r();var i=0;e(t,function(e){n(e,function(e){e?(r(e),r=function(){}):(i+=1,i===t.length&&r())})})},r=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[n].concat(t))}},i=function(e,n,r,i){var s=[];n=t(n,function(e,t){return{index:t,value:e}}),e(n,function(e,t){r(e.value,function(n,r){s[e.index]=r,t(n)})},function(e){i(e,s)})};return r(i)}(),c=function(e){var t=this;this.counter=0,this.nodes={};var r=function(i,s){if(t.nodes[i])return t.nodes[i];var o=new h(i,s,t.nodes);return t.nodes[i]=o,n.name!=="hosted"&&!s.runatclient&&(!s.runtime||s.runtime==="hosted")?o:!s.query||!s.query.filter?o:(a(s.query.filter.datasources,function(n,i){var l=null,c=null;if(u(n))o.inputNodes[i]=[],a(n,function(u,a){var l="_:"+ ++t.counter,c=null;if(f(u))c=r(l,u),o.inputNodes[i].push(c);else{l=u,c=t.nodes[l];if(c)u=c.datasource;else{u=s.query.filter.datasources[l]||e.query.filter.datasources[l]||(e.query.graph?e.query.graph[l]:null);if(!u)throw new Error('Missing datasource "'+l+'" detected');c=r(l,u)}n[a]=u,o.inputNodes[i].push(c)}});else if(f(n))l="_:"+ ++t.counter,o.inputNodes[i]=r(l,n);else{l=n,c=t.nodes[l];if(!c){n=s.query.filter.datasources[l]||e.query.filter.datasources[l]||(e.query.graph?e.query.graph[l]:null);if(!n)throw new Error('Missing datasource "'+l+'" detected');s.query.filter.datasources[i]=n,c=r(l,n)}o.inputNodes[i]=c}}),o)};this.finalNode=r("_:final",JSON.parse(JSON.stringify(e)))};c.prototype.find=function(e,t){var n=this;if(!this.finalNode)return t("No data source to retrieve");a(this.nodes,function(e){e.reset()});var r={};a(e,function(e,t){if(t==="graph"||t==="filter")return;r[t]=e}),this.finalNode.prepare(),this.finalNode.find(r,function(e,r){return a(n.nodes,function(e){e.reset()}),e,t(e,r)})};var h=function(e,t,n){this.id=e,this.graphNodes=n,this.datasource=t,this.inputNodes={},this.reset()};return h.prototype.reset=function(){this.err=null,this.data=null,this.running=!1,this.occurrences=0,this.doneCallbacks=[],this.collection=null},h.prototype.prepare=function(){this.occurrences+=1,this.occurrences===1&&(this.collection=t.getCollection(this.datasource,!0));if(this.occurrences>1e3)throw new Error("Infinite loop detected while preparing datasource execution");a(this.inputNodes,function(e){u(e)?a(e,function(e){e.prepare()}):e.prepare()})},h.prototype.onDone=function(e){this.doneCallbacks.push(e)},h.prototype.find=function(e,t){var n=this,r=function(e,t){n.running=!1,n.err=e,n.data=t,a(n.doneCallbacks,function(e){var t=null;n.occurrences>1?t=JSON.parse(JSON.stringify(n.data)):t=n.data,e(n.err,t)}),n.doneCallbacks=[],n.occurrences===0&&(n.err=null,n.data=null)},i=function(t,r){var i=n.inputNodes[t];u(i)?l(i,function(t,r){n.collection.updateInputOptions(e,function(e,n){if(e)return r(e,null);t.find(n,r)})},r):n.collection.updateInputOptions(e,function(e,t){if(e)return r(e);i.find(t,r)})};this.onDone(function(e,r){return n.occurrences-=1,t(e,r)});if(this.running){if(this.occurrences<=1)throw new Error("Node is executed more than expected");return}if(this.err||this.data)return r(this.err,this.data);this.running=!0;if(this.datasource.db==="operator"){if(!this.inputNodes)return r(null,{entries:[]});this.collection.fetch(e,function(t,s){if(t)return r(t);s!==null?n.collection.process(s,e,function(e,t){return t&&!t.maxAge&&a(s,function(e){e.maxAge&&(!t.maxAge||e.maxAge<t.maxAge)&&(t.maxAge=e.maxAge)}),r(e,t)}):l(o(n.inputNodes),i,function(t,i){if(t)return r(t);var s={};a(o(n.inputNodes),function(e,t){s[e]=i[t]}),n.collection.process(s,e,function(e,t){return t&&!t.maxAge&&a(s,function(e){e&&e.maxAge&&(!t.maxAge||e.maxAge<t.maxAge)&&(t.maxAge=e.maxAge)}),r(e,t)})})})}else this.collection.find(e,r)},{getCollection:function(e,t){var n=new c(e);return t(null,n)}}}),define("runtime-browser/collection.client",["require"],function(e){var t="databases/";return{getCollection:function(n,r){var i=n.db,s=n.col;e([t+i+"/"+s,"datajslib!jsonform-defaults"],function(e,t){return e=e||{},e.setDefaultValues=function(n){var r=(e.GetDesc?e.getDesc():e.desc)||{},i=r.options||{},s=i.schema||{};s.properties||(s={properties:s}),t.setDefaultValues(n,s)},r(null,e)})}}}),define("databases/operator/updatelinks",[],function(){var e=/<a\s[^>]*>/gi,t=/<\/a\s*>/gi;return{desc:{datasources:{main:{title:"Input",multiple:!1}},options:{action:{type:"string",title:"Requested action","default":"addtarget","enum":["addtarget","addtargetnojs","remove"]}},form:["datasources.main",{key:"action",titleMap:{addtarget:"Force links to open in a new window (with a location bar)",addtargetnojs:"Force links to open in a new window (no location bar)",remove:"Remove links (keeping link titles)"}}],runtimes:["hosted","browser","nodejs","win8"]},process:function(e,t,n){var r=null,i=0;t=t||{},e&&e.main&&(e=e.main);if(!e||!e.entries||!e.entries.length)return n(null,{entries:[]});r=this.desc.options.action["default"],t.filter&&t.filter.action&&(r=t.filter.action);for(i=0;i<e.entries.length;i++)this.updateItemLinks(e.entries[i],r);n(null,e)},updateItemLinks:function(e,t){if(!e)return;e.articleBody&&(e.articleBody=this.updateHtml(e.articleBody,t)),e.content&&(e.content=this.updateHtml(e.content,t))},updateHtml:function(n,r){return r==="remove"?(n=n.replace(e,""),n=n.replace(t,"")):r==="addtarget"?n=n.replace(e,function(e,t,n,r){return'<a target="_blank" onclick="window.open(this.href, this.target, \'location=yes\');return false;" '+e.substring(3)}):n=n.replace(e,function(e,t,n,r){return'<a target="_blank" '+e.substring(3)}),n}}}),define("runtime-browser/collection.proxy",[],function(){var e=Joshfire.factory.globalConfig,t=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},n=function(){var e=0,t=document.getElementsByTagName("head")[0];return{get:function(n,r,i,s){var o=null,u=null,a=null,f=!1,l=!1,c=null,h="json"+ ++e,p=function(){if(l)return;l=!0;try{a.onload=null,a.onreadystatechange=null,a.onerror=null,a.parentNode&&a.parentNode.removeChild(a)}catch(e){}},d=function(e,t){if(f)return;f=!0,c&&clearTimeout(c),s(e,t);try{delete Joshfire.datajs[h]}catch(n){}Joshfire.datajs[h]=null};if(!n)return s({status:400,message:"No url to request"});o=n.indexOf("?")!==-1?"&":"?",r=r||{};for(u in r)r.hasOwnProperty(u)&&(o+=encodeURIComponent(u)+"="+encodeURIComponent(r[u])+"&");return o+="callback=Joshfire.datajs."+h,Joshfire.datajs=Joshfire.datajs||{},Joshfire.datajs[h]=function(e){d(null,e)},a=document.createElement("script"),a.src=n+o,a.async=!0,a.onload=a.onreadystatechange=function(){(!this.readyState||this.readyState==="loaded"||this.readyState==="complete"||this.readyState===4)&&p()},a.onerror=function(e){p(),d({status:500,message:"Invalid script received"},null)},t.appendChild(a),c=setTimeout(function(){p(),d({status:500,message:"Timeout exceeded"})},i*1e3),h}}}(),r=function(r){var s=r.query||{},o=r.db,u=r.col,a=r.id,f=r.apikey;this.find=function(r,i){var l=this,c={},h=null;t(c,s),t(c,r),c.apikey=f,a?h="http://"+e.DATAHOSTPORT+"/api/"+e.DATAVERSION+"/feed/ds/"+a:(c.filter&&(c.filter=JSON.stringify(c.filter)),h="http://"+e.DATAHOSTPORT+"/api/"+e.DATAVERSION+"/feed/"+o+"/"+u),n.get(h,c,30,function(e,t){return t&&!t.name&&l.name&&(t.name=l.name),e?i(e,t):t&&t.error?i(t.error):i(null,t)})},this.getDesc=function(e){i.getCollectionDesc(o,u,s,e)}},i={getCollection:function(e,t){var n=new r(e);return t(null,n)},getCollectionDesc:function(r,i,s,o){var u={},a=null;s&&t(u,s),u.filter&&(u.filter=JSON.stringify(u.filter)),a="http://"+e.DATAHOSTPORT+"/api/"+e.DATAVERSION+"/collection/"+r+"/"+i,n.get(a,u,30,o)}};return i}),function(){var e=this,t=function(e,t,n){if(!e||!t)return e;var r={},o=function(e,t){var i=null,u=null;if(!e||e!==Object(e))return null;if(e.required){if(e["default"]){r[t]=e["default"];return}e.type==="object"||e.properties?r[t]={}:e.type==="array"||e.items?r[t]=[]:e.type==="string"?r[t]="":e.type==="number"||e.type==="integer"?r[t]=0:e.type==="boolean"?r[t]=!1:r[t]={}}else if(e["default"]&&n){r[t]=e["default"];return}i=e.properties;if(i)for(var a in i)i.hasOwnProperty(a)&&o(i[a],t+"."+a);e.items&&(u=e.items,s(u)&&(u=u[0]),o(u,t+"[]"))};o(t,"");for(var u in r)r.hasOwnProperty(u)&&i(e,u,r[u])},n=function(e,t){var n=t.replace(/\./g,".properties.").replace(/\[.*\](\.|$)/g,".items$1"),i=r(e,n);return i?i["default"]:null},r=function(e,t){var n=e,r=t.split("."),i=null,s=null,o=/\[([0-9]*)\](?:\.|$)/;for(var u=0;u<r.length;u++){if(typeof n!="object")return null;i=r[u],s=i.match(o);if(s){i=i.replace(o,"");if(!_.isArray(n[i]))return null;n=n[i][parseInt(s[1],10)]}else n=n[i]}return n},i=function(e,t,n){var r=t.split("."),i=function(e,t,n){var r=null,o=/\[([0-9]*)\]$/,u=t.shift(),a=0;if(t.length>0){r=u.match(o);if(r){u=u.replace(o,""),s(e[u])||(e[u]=[]),e=e[u];if(r[1]!=="")a=parseInt(r[1],10),e[a]||(e[a]={}),i(e[a],t,n);else for(var f=0;f<e.length;f++)i(e[f],t,n);return}typeof e[u]!="object"&&(e[u]={}),e=e[u],i(e,t,n)}else r=u.match(o),r?(u=u.replace(o,""),s(e[u])||(e[u]=[]),a=parseInt(r[1],10),e[u][a]||(e[u][a]=n)):e[u]||(e[u]=n)};r[0]||r.shift(),i(e,r,n)},s=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"};typeof define!="undefined"?define("runtime-browser/jsonform-defaults",[],function(){return{setDefaultValues:t}}):typeof module!="undefined"&&module.exports?module.exports={setDefaultValues:t}:(e.JSONForm=e.JSONForm||{},e.JSONForm.setDefaultValues=t,e.JSONForm.setObjKey=i,e.JSONForm.getSchemaKeyDefaultValue=n)}();;
;

define("addons/splashscreen/loaded",[],function(){return function(a){return{generate:function(a,b){try{var c=document.getElementsByClassName("_joshfire_factory_splashscreen");c&&c.length&&(c[0].style.opacity="0",setTimeout(function(){c[0].style.display="none"},700))}catch(d){}b()}}}})
;(function(a,b){var c=function(c,e){var f=null,g=null,h=0;return!c||!a||!a.config||!a.config.datasources||!a.config.datasources[c]?null:(e=e||{},f=a.config.datasources[c],e.params&&(f=d(f,e.params)),b(["datajslib!collection"],function(a){if(Object.prototype.toString.call(f)==="[object Array]")if(typeof e.child!="undefined")g=a.getCollection(f[e.child]),g.name=f[e.child].name,g.config=f[e.child];else{g={children:[],find:function(a,b){var c=f.length,d=!1,e=[],h=0,i=function(a,f){c-=1;if(d)return;a&&(d=!0),f&&e.push(f);if(a||c===0)return b(a,{entries:e})};for(h=0;h<g.children.length;h++)g.children[h].find(a,i)}};for(h=0;h<f.length;h++)g.children[h]=a.getCollection(f[h]),g.children[h].name=f[h].name,g.children[h].config=f[h]}else g=a.getCollection(f),g.name=f.name,g.config=f},null,!0),g)},d=function(a,b){if(!a)return null;var c=function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},d=0,e=JSON.stringify(a,null,2),f=null;for(d in b)b.hasOwnProperty(d)&&(f=new RegExp("{{"+c(d)+"}}","g"),e=e.replace(f,b[d]));return JSON.parse(e)};a.getDataSource=c})(window.Joshfire.factory,require);
(function(a,b){a(["datajslib!utils/getthumbnail","datajslib!utils/getthumbnailurl"],function(a,c){b.schemaio=b.schemaio||{},b.schemaio.utils=b.schemaio.utils||{},b.schemaio.utils.getThumbnail=a,b.schemaio.utils.getThumbnailUrl=c},null,!0)})(require,Joshfire);
(function(a,b){var c=function(a){return a=a||document.getElementById("body")||document.documentElement,Object.prototype.toString.call(a)==="[object String]"?document.querySelector?document.querySelector(a):document.getElementById(a):a},d=function(b){var d=[],f=null,g,h,i=[];if(!b)return[];d=a.config.addons||[];for(g=0;g<d.length;g++){f=d[g];for(h=0;h<f.hooks.length;h++)if(b===f.hooks[h]){i.push(new e(f,b));break}}return i.run=i.render=function(a,b,d){var e=0,f=c(a),g=null;d=d||function(){return};var h=0,j=function(a){a&&(g=a),h+=1;if(h===i.length)return d(g)};b=b||{},b.replaceContent&&delete b.replaceContent;for(e=0;e<i.length;e++)i[e].render(f,b,j)},i.startActivity=function(a,b,c){a=a||{},b=b||function(){return},c=c||function(){return};if(i.length>0)i[0].startActivity(a,b,c);else if(c)return c("No installed add-on for the given intent")},i},e=function(a,d){var e=this,f=!1,g=[],h=function(a){f?a():g.push(a)};this.config=a,this.intent=a.intent,this.run=this.render=function(a,b,d){b=b||{},d=d||function(){return},h(function(){if(!e.addon)return d("Add-on not available");if(!e.addon.generate)return d("Invalid add-on, no generate function");var f=c(a),g=f;e.addon.generate(b,function(a,c){return a?d(a):(c?(b.replaceContent?e.setContent(g,c):(g=document.createElement("div"),e.setContent(g,c),f.appendChild(g)),e.addon.enhance&&e.addon.enhance(g,b)):b.replaceContent&&e.setContent(g,""),d())})})},this.generate=function(a,b){a=a||{},b=b||function(){return},h(function(){if(!e.addon)return b("Add-on not available");if(!e.addon.generate)return b("Invalid add-on, no generate function");e.addon.generate(a,b)})},this.setContent=function(a,b){function e(a,b){b(a);for(var c in a.childNodes)e(a.childNodes[c],b)}function f(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()}function g(a){var b=a.text||a.textContent||a.innerHTML||"",c=a.getAttribute("src"),d=document.getElementsByTagName("head")[0]||document.documentElement,e=document.createElement("script");e.type="text/javascript",c&&e.setAttribute("src",c),b&&e.appendChild(document.createTextNode(b)),d.insertBefore(e,d.firstChild),a.parentNode&&a.parentNode.removeChild(a)}var d=c(a);d.innerHTML=(""+b).trim();var h=[],i=null;e(d,function(a){a.nodeName&&a.nodeName.toUpperCase()==="SCRIPT"&&(!a.type||a.type==="text/javascript")&&h.push(a)});for(i in h)g(h[i])},this.enhance=function(a,b){b=b||{};if(!this.addon)return;if(!this.addon.enhance)return;var d=c(a);this.addon.enhance(d,b)},this.startActivity=function(a,b,c){a=a||{},b=b||function(){return},c=c||function(){return},h(function(){if(!e.addon)return c("Add-on not available");if(!e.addon.startActivity)return c("Add-on does not implement a startActivity function");e.addon.startActivity(a,b,c)})},b(["addons/"+this.config.name+"/"+d],function(a){e.addon=a({options:e.config.options||{},deploy:Joshfire.factory.config.deploy}),f=!0;for(var b=0,c=g.length;b<c;b++)g.pop()()})};a.getAddOns=d})(window.Joshfire.factory,require);
})();